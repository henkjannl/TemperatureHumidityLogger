Hoi Jan,

Ik heb een envelop met 3x een BME280 sensor en 3x een ESP32 bordje op je bureau gelegd. Met de BME280 kun je temperatuur, luchtvochtigheid en luchtdruk meten (luchtdruk wist ik niet eens).

Het ESP32 bordje dat ik erbij heb gedaan is van het type "MH-ET Live Minikit". Deze heeft een dubbele rij gaatjes en is daardoor compacter dan de meeste bordjes. In de directory ```01 Electrical``` heb ik een simpel elektrisch schema toegevoegd. Het is niet overal duidelijk gedocumenteerd welke pin bij welk gaatje op het bord hoort (bjvoorbeeld TCK = IO13 etc). Dat heb ik één keer uitgezocht, en toegevoegd op in de Inkscape file (pdf is ook toegevoegd). Om de BME280 op de ESP aan te sluiten heb je maar vier draadjes nodig. Let erop dat je 3V3 als voeding kiest en niet VCC want die is 5 volt en dan blaas je vermoedelijk een ingang op. Controleer steeds goed of je bij de ESP32 het binnenste of het buitenste gaatje kiest.

Verder heb ik in deze directory de file ```ESP cheat sheet.md``` toegevoegd. Hier heb ik onder meer een lijstje van alle I/O's van de ESP32 toegevoegd, en welke je wel en niet kan gebruiken. Dat is ook niet altijd superduidelijk gedocumenteerd en het heeft me in het begin nogal problemen opgeleverd. Er staan ook wat C++ code voorbeeldjes in die ik altijd als geheugensteun gebruik. Het is een markdown file. Misschien moet je een Markdown addon in je browser installeren om deze te bekijken, maar je kunt hem ook in GitHub bekijken (zoals deze ```README.md```).

Ik voeg in de envelop een dun snoertje toe, ik geloof AWG30 o.i.d.. Dit vind ik fijn werken, maar dan is het voor de robuustheid wel fijn om er een huisje omheen te zetten. Ik heb een ontwerp van een behuizing toegevoegd in de directory ```02 Mechanical```. Als WiFi aanstaat kan de ESP32 behoorlijk warm worden. Ik heb daarom de ESP en de sensor ieder een eigen roostertje gegeven, om zoveel mogelijk te voorkomen dat de ESP de sensor opwarmt. Verder heb ik 20 mm afstand tussen de sensor en de ESP gezet, om warmtegeleiding door de behuizing te verminderen. Tenslotte zit er een rib in de 'kabelgoot' om convectie daardoorheen te voorkomen. Je zou er in de software voor kunnen kiezen om de WiFi alleen kort aan te zetten als de sensor een meting gaat doen. Ik heb de FreeCAD file, de STL versie en de STEP versies van de behuizing toegevoegd. Ik heb er één huisje V1 bij gedaan, daarvan is de rand van de afdichting niet zo groot en de deelnaad niet zo handig. Bij het andere huisje (V2) heb ik dit verbeterd.

Ik heb nog niets aan de software gedaan. Ik zou je aanbevelen om het als volgt aan te pakken:
1. BME280 sensor library installeren en testen. De sensorwaarde bijvoorbeeld iedere 10 seconden wegsturen met een ```Serial.printf("Temperature: %.2f Humidity: %.1f \n", bme.readTemperature(), bme.readHumidity(), bme.readPressure() );```. Dit voorbeeldprogramma bewaren zodat je later altijd kunt vergelijken met een werkende versie als het werkelijke programma het niet meer doet (dan weet je bijvoorbeeld zeker dat er niets stuk is).
1. Sensor kalibreren. Als de temperatuursensor niet de juiste temperatuur aangeeft kun je een offset bij de ruwe aarde optellen om de sensor te kalibreren.
1. Waardes naar een database sturen. Hoe je het beste de uitgelezen waarden in een database kunt uploaden is nog wel de vraag. Er zijn enorm veel mogelijkheden. Vaak heb je een account op één of andere webservice nodig die beperkt in functionaliteit en/of ingewikkeld en/of niet altijd gratis is. Lijkt me nu nog niet nodig. Zoek dit dus goed uit voor je eraan begint. Misschien is [Deta Base](https://randomnerdtutorials.com/esp32-deta-base-database-arduino/) een goede optie, maar ik heb er zelf nog geen ervaring mee.
1. Het is leuk om de sensorwaarde via Telegram te kunnen uitlezen. De UniversalTelegram library werkt fijn, maar dan moet je eerst een BotID aanvragen. In [RandomNerdTutorials](https://randomnerdtutorials.com/telegram-group-esp32-esp8266/) staat hoe dat werkt. Kun je van overal ter wereld je sensor uitlezen (maar beter om eerst de sensor uit te lezen via de seriële poort).

HenkJan
